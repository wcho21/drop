\documentclass{xdvsvgw}
\usepackage{ts-arrow}
\usetikzlibrary{backgrounds}

\begin{document}
  \begin{tikzpicture}
    \def\side{12mm}
    \def\altside{8mm}
    \def\altxoffset{60mm}
    \def\altyoffset{38mm}

    \draw[step=\side] (0,0) grid (4*\side,4*\side);
    \draw (0,4*\side) -- ++(-\side,0) -- ++(0,-\side) -- ++(\side,0);

    \node[above] at (2*\side,4*\side) {Code space};

    \node at (-0.5*\side,3.5*\side) {\small BMP};
    \node at (0.5*\side,3.5*\side) {\small SMP};
    \node at (1.5*\side,3.5*\side) {\small SIP};
    \node at (2.5*\side,3.5*\side) {\small TIP};
    \node at (1.5*\side,0.5*\side) {\small SSP};
    \node at (2.5*\side,0.5*\side) {\small PUA};
    \node at (3.5*\side,0.5*\side) {\small PUA};

    \begin{scope}[on background layer]
      \path[fill=lightgray!50]
        (0,0)
        -- ++(\side,0)
        -- ++(0,\side)
        -- ++(3*\side,0)
        -- ++(0,3*\side)
        -- ++(-\side,0)
        -- ++(0,-\side)
        -- ++(-3*\side,0)
        -- cycle;
    \end{scope}

    \draw[StlthRev] (2.75*\side,3.75*\side) .. controls +(60:8mm) and +(120:8mm) .. ++(\altxoffset-2.75*\side+\altside,0) node[below] {Plane};

    \draw (\altxoffset,\altyoffset) -- ++(2*\altside,0) -- ++(0,-2*\altside) -- ++(-2*\altside,0) -- cycle;
    \draw (\altxoffset+\altside,\altyoffset) -- ++(0,-2*\altside);
    \draw (\altxoffset+2*\altside,\altyoffset-\altside) -- ++(-2*\altside,0);

    \draw[StlthRev] (\altxoffset+0.5*\altside,\altyoffset-2*\altside+0.25*\altside) .. controls +(-120:3mm) and +(120:2mm) .. ++(-2mm,-8mm) node[below] {Block};
  \end{tikzpicture}
\end{document}
