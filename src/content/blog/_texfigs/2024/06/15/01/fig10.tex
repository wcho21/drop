\documentclass{cmn}
\usepackage{td-simple-card,ts-arrow}
\usetikzlibrary{decorations.markings}

\def\cardXSep{13.75mm}
\def\scopeYSep{28mm}
\def\smallXSep{1.875mm}
\def\rectTop{15mm}
\def\tipYSep{1mm}
\def\labelYSep{5.5mm}

\newcommand\keyword[1]{\textit{\textbf{#1}}}
\newcommand\drawTopLabel[2]{
  \path[tips,StlthRevBase] (#1*\cardXSep+5mm,\rectTop+\tipYSep) -- ++(0,1mm);
  \node at (#1*\cardXSep+5mm,\rectTop+\labelYSep) {\keyword{#2}};
}
\newcommand\drawBotLabel[2]{
  \path[tips,StlthRevBase] (#1*\cardXSep+5mm,-\tipYSep-1mm) -- ++(0,-1mm);
  \node at (#1*\cardXSep+5mm,-\labelYSep-1mm) {\keyword{#2}};
}
\newcommand\drawLeftEmptyInterval[1]{
  \draw[gray!80] (#1*\cardXSep-\smallXSep+1pt,\rectTop) rectangle ++(1pt,-\rectTop-1mm);
}
\newcommand\drawRightEmptyInterval[1]{
  \draw[gray!80] (#1*\cardXSep-\smallXSep-2pt,\rectTop) rectangle ++(1pt,-\rectTop-1mm);
}
\newcommand\drawInterval[2]{
  \draw[gray!80] (#1*\cardXSep-\smallXSep+1pt,\rectTop) rectangle ++(#2*\cardXSep-1pt,-\rectTop-1mm);
}

\begin{document}
  \begin{tikzpicture}
    \begin{scope}
      \foreach \n/\i in {4/0,4/1,3/2,6/3,4/4} {
        \drawCard{\i*\cardXSep}{0}{\n}
      }

      \drawRightEmptyInterval{1}
      \drawLeftEmptyInterval{1}
      \drawRightEmptyInterval{5}

      \drawTopLabel{1}{l,m}
      \drawTopLabel{4.46}{u}
      \drawBotLabel{1}{b}
      \drawBotLabel{4.46}{e}
    \end{scope}

    \begin{scope}[yshift=-\scopeYSep-6mm]
      \foreach \n/\i in {4/0,3/2,6/3,4/4} {
        \drawCard{\i*\cardXSep}{0}{\n}
      }
      \foreach \n/\i in {4/1} {
        \drawCard[color=gray!80]{\i*\cardXSep}{0}{\n}
      }

      \drawRightEmptyInterval{1}
      \drawInterval{1}{1}
      \drawRightEmptyInterval{5}

      \drawTopLabel{1}{l}
      \drawTopLabel{2}{m}
      \drawTopLabel{4.46}{u}

      \draw[StlthBase] (1*\cardXSep+10mm,-2mm)
        .. controls +(-60:1mm) and +(135:2mm) .. ++(2mm,-3mm)
        .. controls +(-45:2mm) and +(90:1mm) .. ++(1.5mm,-6mm);
      \draw[StlthBase] (2*\cardXSep,-2mm)
        .. controls +(-120:1mm) and +(45:2mm) .. ++(-2mm,-3mm)
        .. controls +(-135:2mm) and +(90:1mm) .. ++(-1.5mm,-6mm);
    \end{scope}

    \begin{scope}[yshift=-2*\scopeYSep-6mm]
      \foreach \n/\i in {4/0,6/3,4/4} {
        \drawCard{\i*\cardXSep}{0}{\n}
      }
      \foreach \n/\i in {3/1,4/2} {
        \drawCard[color=gray!80]{\i*\cardXSep}{0}{\n}
      }

      \drawInterval{1}{1}
      \drawInterval{2}{1}
      \drawRightEmptyInterval{5}

      \drawTopLabel{2}{l}
      \drawTopLabel{3}{m}
      \drawTopLabel{4.46}{u}

      \draw[StlthBase] (3*\cardXSep+10mm,-2mm)
        .. controls +(-60:1mm) and +(135:2mm) .. ++(2mm,-3mm)
        .. controls +(-45:2mm) and +(90:1mm) .. ++(1.5mm,-6mm);
      \draw[StlthBase] (4*\cardXSep,-2mm)
        .. controls +(-120:1mm) and +(45:2mm) .. ++(-2mm,-3mm)
        .. controls +(-135:2mm) and +(90:1mm) .. ++(-1.5mm,-6mm);
    \end{scope}

    \begin{scope}[yshift=-3*\scopeYSep-6mm]
      \foreach \n/\i in {4/0,4/3} {
        \drawCard{\i*\cardXSep}{0}{\n}
      }
      \foreach \n/\i in {3/1,4/2,6/4} {
        \drawCard[color=gray!80]{\i*\cardXSep}{0}{\n}
      }

      \drawInterval{1}{1}
      \drawInterval{2}{1}
      \drawInterval{4}{1}

      \drawTopLabel{2}{l}
      \drawTopLabel{3}{m}
      \drawTopLabel{4}{u}
    \end{scope}

    \begin{scope}[yshift=-4*\scopeYSep-6mm]
      \foreach \n/\i in {4/0} {
        \drawCard{\i*\cardXSep}{0}{\n}
      }
      \foreach \n/\i in {3/1,4/2,4/3,6/4} {
        \drawCard[color=gray!80]{\i*\cardXSep}{0}{\n}
      }

      \drawInterval{1}{1}
      \drawInterval{2}{2}
      \drawInterval{4}{1}

      \drawTopLabel{2}{l}
      \drawTopLabel{4}{m,u}
    \end{scope}
  \end{tikzpicture}
\end{document}
